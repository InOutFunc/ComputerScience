作者：饭后温柔

链接：https://www.zhihu.com/question/24068436/answer/26602153

来源：知乎著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 

1 为什么公共的数据操作表示,都需要一个iterator(迭代器)?因为数据结构都有取出,存入的操作.操作下一个或上一个数据的需求.因为迭代器代表了某个数据的在容器位置这么一个概念.我们无须关心指针这种低级硬件概念.iterator(迭代器)翻译为游标,你是否觉得更合适?为什么STL的最初设计者这么叼,能够想到公共的数据操作就要有公共的数据位置表示概念? 

2 一个公共的算法,其数据输入应该是什么?是容器吗?理想上,输入的应是数据的位置范围,而不应该关心它是什么容器.甚至无须关心其在容器中的具体 位置.只需知道是A-B位置即可.所以iterator这个概念是很有必要的. 

3 iterator真正代表的是什么?不同容器的iterator通常不兼容.既然STL的初衷是设计公共的数据操作 接口,为什么会特别区别不同容器的iterator?了解下什么是非侵入式设计,它是如何体现在公共算法 对迭代器的获取上的? 

4 确实会有人设计通用的iterator适配不同容器(需要一些模板知识).你觉得有必要吗?如何实现? 

5 为什么大多数的公共算法,需要我们输入一个仿函数体?什么是谓语?排序算法可以有多种.而比较大小这一步计算,原则上是可以抽象出来的. 

6 以上几点,是否能让你感觉到强烈需要模板操作类型的能力? 

7 vector长度增长时,其内存如何增长?几种容器的内存分配是如何的? 

8 容器的赋值拷贝代价?复制容器存在哪些方法或接口减少拷贝代价?

 9 容器循环遍历删除会遇到什么情况?如何避免?这个问题是普遍存在的还是只限于STL?(参考非侵 入设计.)

STL最强大的是它所设计的这一套公共数据操作接口.它为什么有这些接口?其目的,考量,决断是非常值得学习的.就算你能盲打红黑树,脚写tokenizer什么的...至少在接口设计方面是能够提供一些思路的.